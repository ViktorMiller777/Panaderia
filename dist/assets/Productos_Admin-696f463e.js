import{h as o,r as t,o as x,a as b,w as c,b as a,d as g,n as C,k as U}from"./index-68dcfe08.js";import{a as h}from"./axios-4a70c6fc.js";const S={__name:"Productos_Admin",setup(q){const _=o(""),r=o(""),u=o("0"),n=o(0),d=o(""),v=o(""),i=o(""),p=o(""),l=o(!1),V=async()=>{if(!r.value||!u.value||!n.value){d.value="Error",v.value="Por favor, complete todos los campos.",i.value="error",p.value="error",l.value=!0,setTimeout(()=>{l.value=!1},5e3);return}const f={id:_.value,producto:r.value,categoria:u.value,existencias:n.value};try{const e=await h.post("http://localhost/productosi",f);d.value="Registro Exitoso",v.value="Producto agregado con Ã©xito.",i.value="success",p.value="success",l.value=!0,setTimeout(()=>{l.value=!1},5e3),_.value="null",r.value="",u.value="0",n.value=0}catch(e){d.value="Error",v.value="Hubo un error al agregar el producto.",i.value="error",p.value="error",l.value=!0,console.error("Error al agregar producto:",e)}};return(f,e)=>{const y=t("v-card-title"),m=t("v-text-field"),k=t("v-btn"),w=t("v-alert"),E=t("v-form"),N=t("v-card"),P=t("v-container");return x(),b(P,null,{default:c(()=>[a(N,null,{default:c(()=>[a(y,null,{default:c(()=>[g("Registro de Productos")]),_:1}),a(E,{onSubmit:C(V,["prevent"])},{default:c(()=>[a(m,{ref:"productNameInput",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),label:"Nombre del producto",required:""},null,8,["modelValue"]),a(m,{ref:"categoryInput",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),label:"Categoria del producto",type:"number",required:""},null,8,["modelValue"]),a(m,{ref:"stockInput",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),label:"Existencias o Unidades",type:"number",required:""},null,8,["modelValue"]),a(k,{type:"submit",color:"primary"},{default:c(()=>[g("Registrar Productos")]),_:1}),l.value?(x(),b(w,{key:0,color:i.value,type:p.value,title:d.value,text:v.value},null,8,["color","type","title","text"])):U("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})}}};export{S as default};
