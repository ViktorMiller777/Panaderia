import{r as o,a as t,b as x,i as b,w as c,e as a,g,j as C,l as U}from"./index-a0c1ea82.js";import{a as q}from"./axios-4a70c6fc.js";const T={__name:"Productos_Admin",setup(I){const _=o(""),r=o(""),u=o("0"),n=o(0),v=o(""),d=o(""),i=o(""),p=o(""),l=o(!1),V=async()=>{if(!r.value||!u.value||!n.value){v.value="Error",d.value="Por favor, complete todos los campos.",i.value="error",p.value="error",l.value=!0,setTimeout(()=>{l.value=!1},5e3);return}const f={id:_.value,producto:r.value,categoria:u.value,existencias:n.value};try{const e=await q.post("http://localhost/productosi",f);v.value="Registro Exitoso",d.value="Producto agregado con Ã©xito.",i.value="success",p.value="success",l.value=!0,setTimeout(()=>{l.value=!1},5e3),_.value="null",r.value="",u.value="0",n.value=0}catch(e){v.value="Error",d.value="Hubo un error al agregar el producto.",i.value="error",p.value="error",l.value=!0,console.error("Error al agregar producto:",e)}};return(f,e)=>{const y=t("v-card-title"),m=t("v-text-field"),w=t("v-btn"),E=t("v-alert"),N=t("v-form"),P=t("v-card"),k=t("v-container");return x(),b(k,null,{default:c(()=>[a(P,null,{default:c(()=>[a(y,null,{default:c(()=>[g("Registro de Productos")]),_:1}),a(N,{onSubmit:C(V,["prevent"])},{default:c(()=>[a(m,{ref:"productNameInput",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),label:"Nombre del producto",required:""},null,8,["modelValue"]),a(m,{ref:"categoryInput",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),label:"Categoria del producto",type:"number",required:""},null,8,["modelValue"]),a(m,{ref:"stockInput",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),label:"Existencias o Unidades",type:"number",required:""},null,8,["modelValue"]),a(w,{type:"submit",color:"primary"},{default:c(()=>[g("Registrar Productos")]),_:1}),l.value?(x(),b(E,{key:0,color:i.value,type:p.value,title:v.value,text:d.value},null,8,["color","type","title","text"])):U("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})}}};export{T as default};
